<?phprequire_once( '../../php/settings.php' );require_once( '../../php/rtorrent.php' );if(isset($_REQUEST['getcurrentuser'])){    $myFile = "useraccess.log";    $fh = fopen($myFile, 'a');    $username = $_SERVER["PHP_AUTH_USER"];    fwrite($fh, date("D M j G:i:s T Y").": ".$username." logged in\n");    fclose($fh);    $ret = 'document.getElementById("tadd_label").value ="'.$username.'"';    cachedEcho($ret,"text/html");}if(isset($_REQUEST['changepasswd'])){    if($_REQUEST['changepasswd'] != "" && $_SERVER["PHP_AUTH_USER"] != "kschinkel"){        $pwd_unencoded = base64_decode($_REQUEST['changepasswd']);        print exec("./changepasswd.sh ".$_SERVER["PHP_AUTH_USER"]." ".$pwd_unencoded);            cachedEcho('log("Password changed"); document.getElementById("changepasswd").value=""');    }else{        cachedEcho('log("Invalid Password!"); document.getElementById("changepasswd").value=""');    }}if(isset($_REQUEST['logout'])){    header("HTTP/1.0 302 Redirect");    header("Location: https://logout@".$_SERVER['HTTP_HOST']."/index.html");    }?>